## 如何搭建一个高可用系统

0， redis缓存

1，主备/集群模式，防止单点

2，限流，削峰，防止后端压力过大

3，熔断机制，类似与限流

4，容灾机制，多机房/异地部署

5，把项目，拆分成为多个应用小型服务器形式，来进行分布式部署。

6，数据库合适的索引



## 如果AB两个系统互相依赖，如何解除依赖
A--->B，同时B--->A
解除这种双向依赖的话，需要在AB之外增加一个C，用C封装A依赖的B的那部分功能，让A改为依赖C，C依赖B
然后就是这样A--->C，C---->B，B--->A不过这样依然存在环路依赖

## 什么情况用接口，什么情况用消息

接口的特点是同步调用，接口实时响应，阻塞等待

消息的特点是异步处理，非实时响应，消息发送后则返回，消息队列可以削峰


一般对实时性要求比较高的功能采用接口

对实时性要求不高的功能可以采用消息，削峰时可以采用消息
